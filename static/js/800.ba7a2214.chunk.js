"use strict";(self.webpackChunkwanted_pre_onboarding_frontend=self.webpackChunkwanted_pre_onboarding_frontend||[]).push([[800],{800:function(t,n,e){e.r(n),e.d(n,{ModifyInput:function(){return g},NewTodo:function(){return T},SubmitInput:function(){return k},default:function(){return C}});var o=e(142);function r(t,n,e){return(n=(0,o.Z)(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function a(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(Object(e),!0).forEach((function(n){r(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var c=e(907);var u=e(181);function d(t){return function(t){if(Array.isArray(t))return(0,c.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,u.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=e(165),l=e(861),p=e(885),f=e(243),m=e(791),b=e(689),h="https://www.pre-onboarding-selection-task.shop/todos",v={headers:{Authorization:"Bearer ".concat(localStorage.access_token),"Content-Type":"application/json"}},w=function(){var t=(0,m.useState)({addTodo:""}),n=(0,p.Z)(t,2),e=n[0],o=n[1],r=(0,m.useState)([]),i=(0,p.Z)(r,2),c=i[0],u=i[1],w=(0,m.useState)(!1),x=(0,p.Z)(w,2),y=x[0],C=x[1],T=(0,m.useState)(""),k=(0,p.Z)(T,2),g=k[0],j=k[1],_=(0,m.useState)(null),Z=(0,p.Z)(_,2),O=Z[0],S=Z[1],I=(0,b.s0)(),N=function(){var t=(0,l.Z)((0,s.Z)().mark((function t(){var n,e;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.Z.get(h,v);case 3:n=t.sent,e=n.data,u(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error in getTodos: ".concat(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=(0,l.Z)((0,s.Z)().mark((function t(n){var e,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={todo:n.addTodo},t.prev=1,t.next=4,f.Z.post(h,e,v);case 4:o=t.sent,u((function(t){return[].concat(d(t),[o.data])})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Error in onSubmitPostTodo: ".concat(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(n){return t.apply(this,arguments)}}(),B=function(){var t=(0,l.Z)((0,s.Z)().mark((function t(n,e,o){var r,i,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={id:n,todo:e,isCompleted:o},t.next=4,f.Z.put("https://www.pre-onboarding-selection-task.shop/todos/".concat(n),r,v);case 4:return i=t.sent,a=i.data,t.abrupt("return",a);case 9:t.prev=9,t.t0=t.catch(0),console.error("Error in updateTodos: ".concat(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(n,e,o){return t.apply(this,arguments)}}(),D=function(){var t=(0,l.Z)((0,s.Z)().mark((function t(n){var e,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.Z.delete("https://www.pre-onboarding-selection-task.shop/todos/".concat(n),v);case 3:e=t.sent,o=c.filter((function(t){return t.id!==n})),u(o),console.log(e.status),alert("\uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error in onClickDeleteTodo: ".concat(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(n){return t.apply(this,arguments)}}(),L=function(){var t=(0,l.Z)((0,s.Z)().mark((function t(n,e,o){var r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.find((function(t){return t.id===n})),t.next=3,B(r.id,e,o);case 3:u((function(t){return t.map((function(t){return t.id===r.id?a(a({},t),{},{todo:e,isCompleted:o}):t}))})),S(null);case 5:case"end":return t.stop()}}),t)})));return function(n,e,o){return t.apply(this,arguments)}}(),P=function(){var t=(0,l.Z)((0,s.Z)().mark((function t(n){var e;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),e=c.find((function(t){return t.id===O})),t.next=4,B(e.id,g,e.isCompleted);case 4:u((function(t){return t.map((function(t){return t.id===e.id?a(a({},t),{},{todo:g}):t}))})),S(null);case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return(0,m.useEffect)((function(){(0,l.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}),[]),(0,m.useEffect)((function(){localStorage.access_token?N():(alert("\ub85c\uadf8\uc778 \ud55c \ud68c\uc6d0\ub9cc \uc811\uadfc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4\ud83d\ude13"),I("/signin"))}),[I]),{todo:e,todos:c,isEdit:y,newTodo:g,editTodoId:O,setNewTodo:j,navigate:I,getTodos:N,onSubmitPostTodo:E,updateTodos:B,onClickDeleteTodo:D,onChangeIsCompleted:L,onClickAddTodoList:function(t){var n=t.target.value;o(a(a({},e),{},{addTodo:n}))},onClickEditTodoList:function(t){S(t);var n=c.find((function(n){return n.id===t}));j(n.todo),C(!y)},onSubmitEditTodoList:P,onClickCancelEdit:function(){S(null)},resetInputValue:function(){o(a(a({},e),{},{addTodo:""}))}}},x={container:"Todo_container__y+uhA",NewTodoContainer:"Todo_NewTodoContainer__qDQD9",title:"Todo_title__5afsc",newTodoInput:"Todo_newTodoInput__T8R1o",newTodoButton:"Todo_newTodoButton__rmcaJ",modifyInputList:"Todo_modifyInputList__k8eN+",modifyButton:"Todo_modifyButton__r1B9z",deleteButton:"Todo_deleteButton__1D4La",modifyInput:"Todo_modifyInput__D5Ke0"},y=e(184);var C=function(){var t=w(),n=t.todo,e=t.todos,o=t.newTodo,r=t.editTodoId,i=t.setNewTodo,a=t.onSubmitPostTodo,c=t.onClickDeleteTodo,u=t.onChangeIsCompleted,d=t.onClickAddTodoList,s=t.onClickEditTodoList,l=t.onSubmitEditTodoList,p=t.onClickCancelEdit,f=t.resetInputValue;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:x.container,children:[(0,y.jsxs)("div",{className:x.NewTodoContainer,children:[(0,y.jsx)("div",{className:x.title,children:"TodoList"}),(0,y.jsx)(T,{onSubmit:function(t){t.preventDefault(),a(n),f()},todo:n,onChange:function(t){return d(t)}})]}),(0,y.jsx)("div",{children:(0,y.jsx)("ul",{children:null===e||void 0===e?void 0:e.map((function(t){return r===t.id?(0,y.jsx)(k,{todo:t,newTodo:o,onSubmit:l,checkboxOnChange:function(){return u(t.id,t.todo,!t.isCompleted)},textOnChange:function(t){return i(t.target.value)},submitOnClick:l,cancelOnClick:p}):(0,y.jsx)(g,{todo:t,onSubmit:function(){return u(t.id,t.todo,!t.isCompleted)},checkboxOnChange:function(){return u(t.id,t.todo,!t.isCompleted)},modifyOnClick:function(){return s(t.id)},deleteOnClick:function(){return c(t.id)}})}))},n.id)})]})})},T=function(t){var n=t.onSubmit,e=t.onChange,o=t.todo;return(0,y.jsxs)("form",{onSubmit:n,children:[(0,y.jsx)("label",{children:(0,y.jsx)("input",{className:x.newTodoInput,id:"new-todo-input","data-testid":"new-todo-input",type:"text",value:o.addTodo,onChange:e})}),(0,y.jsx)("button",{className:x.newTodoButton,"data-testid":"new-todo-add-button",children:"\ucd94\uac00\ud558\uae30"})]})},k=function(t){var n=t.todo,e=t.newTodo,o=t.onSubmit,r=t.checkboxOnChange,i=t.textOnChange,a=t.submitOnClick,c=t.cancelOnClick;return(0,y.jsx)("li",{className:x.modifyInputList,children:(0,y.jsxs)("form",{onSubmit:o,children:[(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"checkbox",checked:n.isCompleted,onChange:r}),(0,y.jsx)("input",{className:x.modifyInput,"data-testid":"modify-input",type:"text",value:e,onChange:i})]}),(0,y.jsx)("button",{className:x.modifyButton,"data-testid":"submit-button",type:"button",onClick:a,children:"\uc81c\ucd9c"}),(0,y.jsx)("button",{className:x.deleteButton,"data-testid":"cancel-button",type:"button",onClick:c,children:"\ucde8\uc18c"})]})})},g=function(t){var n=t.todo,e=t.onSubmit,o=t.checkboxOnChange,r=t.modifyOnClick,i=t.deleteOnClick;return(0,y.jsx)("li",{className:x.modifyInputList,children:(0,y.jsxs)("form",{onSubmit:e,children:[(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"checkbox",checked:n.isCompleted,onChange:o}),(0,y.jsx)("span",{children:n.todo})]}),(0,y.jsx)("button",{className:x.modifyButton,"data-testid":"modify-button",type:"button",onClick:r,children:"\uc218\uc815"}),(0,y.jsx)("button",{className:x.deleteButton,"data-testid":"delete-button",type:"button",onClick:i,children:"\uc0ad\uc81c"})]})})}}}]);
//# sourceMappingURL=800.ba7a2214.chunk.js.map