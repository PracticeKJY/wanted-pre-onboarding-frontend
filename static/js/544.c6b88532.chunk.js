"use strict";(self.webpackChunkwanted_pre_onboarding_frontend=self.webpackChunkwanted_pre_onboarding_frontend||[]).push([[544],{544:function(t,n,e){e.r(n),e.d(n,{ModifyInput:function(){return T},NewTodo:function(){return C},SubmitInput:function(){return w},default:function(){return x}});var o=e(942);function r(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function i(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?r(Object(e),!0).forEach((function(n){(0,o.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var c=e(433),u=e(165),a=e(861),d=e(439),s=e(243),l=e(791),p=e(689),f="https://www.pre-onboarding-selection-task.shop/todos",m={headers:{Authorization:"Bearer ".concat(localStorage.access_token),"Content-Type":"application/json"}},h=function(){var t=(0,l.useState)({addTodo:""}),n=(0,d.Z)(t,2),e=n[0],o=n[1],r=(0,l.useState)([]),h=(0,d.Z)(r,2),b=h[0],v=h[1],x=(0,l.useState)(!1),C=(0,d.Z)(x,2),w=C[0],T=C[1],k=(0,l.useState)(""),y=(0,d.Z)(k,2),g=y[0],j=y[1],_=(0,l.useState)(null),Z=(0,d.Z)(_,2),O=Z[0],S=Z[1],N=(0,p.s0)(),I=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(){var n,e;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.get(f,m);case 3:n=t.sent,e=n.data,v(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error in getTodos: ".concat(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n){var e,o;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={todo:n.addTodo},t.prev=1,t.next=4,s.Z.post(f,e,m);case 4:o=t.sent,v((function(t){return[].concat((0,c.Z)(t),[o.data])})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Error in onSubmitPostTodo: ".concat(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(n){return t.apply(this,arguments)}}(),B=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n,e,o){var r,i,c;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={id:n,todo:e,isCompleted:o},t.next=4,s.Z.put("https://www.pre-onboarding-selection-task.shop/todos/".concat(n),r,m);case 4:return i=t.sent,c=i.data,t.abrupt("return",c);case 9:t.prev=9,t.t0=t.catch(0),console.error("Error in updateTodos: ".concat(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(n,e,o){return t.apply(this,arguments)}}(),D=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n){var e,o;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.delete("https://www.pre-onboarding-selection-task.shop/todos/".concat(n),m);case 3:e=t.sent,o=b.filter((function(t){return t.id!==n})),v(o),console.log(e.status),alert("\uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error in onClickDeleteTodo: ".concat(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(n){return t.apply(this,arguments)}}(),L=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n,e,o){var r;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.find((function(t){return t.id===n})),t.next=3,B(r.id,e,o);case 3:v((function(t){return t.map((function(t){return t.id===r.id?i(i({},t),{},{todo:e,isCompleted:o}):t}))})),S(null);case 5:case"end":return t.stop()}}),t)})));return function(n,e,o){return t.apply(this,arguments)}}(),P=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n){var e;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),e=b.find((function(t){return t.id===O})),t.next=4,B(e.id,g,e.isCompleted);case 4:v((function(t){return t.map((function(t){return t.id===e.id?i(i({},t),{},{todo:g}):t}))})),S(null);case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return(0,l.useEffect)((function(){(0,a.Z)((0,u.Z)().mark((function t(){return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}),[]),(0,l.useEffect)((function(){localStorage.access_token?I():(alert("\ub85c\uadf8\uc778 \ud55c \ud68c\uc6d0\ub9cc \uc811\uadfc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4\ud83d\ude13"),N("/signin"))}),[N]),{todo:e,todos:b,isEdit:w,newTodo:g,editTodoId:O,setNewTodo:j,navigate:N,getTodos:I,onSubmitPostTodo:E,updateTodos:B,onClickDeleteTodo:D,onChangeIsCompleted:L,onClickAddTodoList:function(t){var n=t.target.value;o(i(i({},e),{},{addTodo:n}))},onClickEditTodoList:function(t){S(t);var n=b.find((function(n){return n.id===t}));j(n.todo),T(!w)},onSubmitEditTodoList:P,onClickCancelEdit:function(){S(null)},resetInputValue:function(){o(i(i({},e),{},{addTodo:""}))}}},b={container:"Todo_container__y+uhA",NewTodoContainer:"Todo_NewTodoContainer__qDQD9",title:"Todo_title__5afsc",newTodoInput:"Todo_newTodoInput__T8R1o",newTodoButton:"Todo_newTodoButton__rmcaJ",modifyInputList:"Todo_modifyInputList__k8eN+",modifyButton:"Todo_modifyButton__r1B9z",deleteButton:"Todo_deleteButton__1D4La",modifyInput:"Todo_modifyInput__D5Ke0"},v=e(184);var x=function(){var t=h(),n=t.todo,e=t.todos,o=t.newTodo,r=t.editTodoId,i=t.setNewTodo,c=t.onSubmitPostTodo,u=t.onClickDeleteTodo,a=t.onChangeIsCompleted,d=t.onClickAddTodoList,s=t.onClickEditTodoList,l=t.onSubmitEditTodoList,p=t.onClickCancelEdit,f=t.resetInputValue;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:b.container,children:[(0,v.jsxs)("div",{className:b.NewTodoContainer,children:[(0,v.jsx)("div",{className:b.title,children:"TodoList"}),(0,v.jsx)(C,{onSubmit:function(t){t.preventDefault(),c(n),f()},todo:n,onChange:function(t){return d(t)}})]}),(0,v.jsx)("div",{children:(0,v.jsx)("ul",{children:null===e||void 0===e?void 0:e.map((function(t){return r===t.id?(0,v.jsx)(w,{todo:t,newTodo:o,onSubmit:l,checkboxOnChange:function(){return a(t.id,t.todo,!t.isCompleted)},textOnChange:function(t){return i(t.target.value)},submitOnClick:l,cancelOnClick:p}):(0,v.jsx)(T,{todo:t,onSubmit:function(){return a(t.id,t.todo,!t.isCompleted)},checkboxOnChange:function(){return a(t.id,t.todo,!t.isCompleted)},modifyOnClick:function(){return s(t.id)},deleteOnClick:function(){return u(t.id)}})}))},n.id)})]})})},C=function(t){var n=t.onSubmit,e=t.onChange,o=t.todo;return(0,v.jsxs)("form",{onSubmit:n,children:[(0,v.jsx)("label",{children:(0,v.jsx)("input",{className:b.newTodoInput,id:"new-todo-input","data-testid":"new-todo-input",type:"text",value:o.addTodo,onChange:e})}),(0,v.jsx)("button",{className:b.newTodoButton,"data-testid":"new-todo-add-button",children:"\ucd94\uac00\ud558\uae30"})]})},w=function(t){var n=t.todo,e=t.newTodo,o=t.onSubmit,r=t.checkboxOnChange,i=t.textOnChange,c=t.submitOnClick,u=t.cancelOnClick;return(0,v.jsx)("li",{className:b.modifyInputList,children:(0,v.jsxs)("form",{onSubmit:o,children:[(0,v.jsxs)("label",{children:[(0,v.jsx)("input",{type:"checkbox",checked:n.isCompleted,onChange:r}),(0,v.jsx)("input",{className:b.modifyInput,"data-testid":"modify-input",type:"text",value:e,onChange:i})]}),(0,v.jsx)("button",{className:b.modifyButton,"data-testid":"submit-button",type:"button",onClick:c,children:"\uc81c\ucd9c"}),(0,v.jsx)("button",{className:b.deleteButton,"data-testid":"cancel-button",type:"button",onClick:u,children:"\ucde8\uc18c"})]})})},T=function(t){var n=t.todo,e=t.onSubmit,o=t.checkboxOnChange,r=t.modifyOnClick,i=t.deleteOnClick;return(0,v.jsx)("li",{className:b.modifyInputList,children:(0,v.jsxs)("form",{onSubmit:e,children:[(0,v.jsxs)("label",{children:[(0,v.jsx)("input",{type:"checkbox",checked:n.isCompleted,onChange:o}),(0,v.jsx)("span",{children:n.todo})]}),(0,v.jsx)("button",{className:b.modifyButton,"data-testid":"modify-button",type:"button",onClick:r,children:"\uc218\uc815"}),(0,v.jsx)("button",{className:b.deleteButton,"data-testid":"delete-button",type:"button",onClick:i,children:"\uc0ad\uc81c"})]})})}}}]);
//# sourceMappingURL=544.c6b88532.chunk.js.map